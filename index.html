<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mind Play</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f4f8; color: #333; margin:0; padding:0; display:flex; justify-content:center; align-items:center; min-height:100vh; }
.container { text-align:center; max-width:500px; width:90%; }
h1,h2,h3 { margin-bottom:20px; }
button { padding:10px 20px; margin:10px; font-size:16px; border-radius:8px; border:none; cursor:pointer; background-color:#4CAF50; color:#fff; transition:transform 0.2s; }
button:hover{ transform:scale(1.05); }
.game-board { display:grid; grid-template-columns:repeat(4,80px); grid-gap:10px; justify-content:center; margin:20px 0; }
.card { width:80px; height:80px; background-color:#2196F3; color:#fff; display:flex; justify-content:center; align-items:center; font-size:24px; border-radius:8px; cursor:pointer; }
.answer-buttons button { display:block; width:100%; margin:5px 0; }
.screen { display:none; }
.screen.active { display:block; }
#badges { margin-top:20px; font-size:16px; }
#emotionSection input { padding:8px; font-size:14px; width:60%; margin-top:10px; }
#emotionSection button { margin-top:5px; }
</style>
</head>
<body>
<div class="container">

  <!-- Home / Dashboard -->
  <div id="homeScreen" class="screen active">
    <h1>üéÆ Mind Play</h1>
    <p>Learn, Play, and Remember!</p>
    <button onclick="showMemoryGame()">üß† Memory Game</button>
    <button onclick="showQuiz()">‚ùì Quiz</button>
    <div id="badges">
      <h3>üèÜ Your Progress</h3>
      <p id="badgeText">No badges yet</p>
    </div>

    <!-- Emotion + Quote Feature -->
    <div id="emotionSection">
      <h3>How are you feeling today?</h3>
      <input type="text" id="userEmotion" placeholder="I feel..." />
      <button onclick="showEmotionResponse()">Share</button>
      <p id="emotionResponse" style="margin-top:10px; font-style:italic;"></p>
    </div>
  </div>

  <!-- Memory Game Screen -->
  <div id="memoryScreen" class="screen">
    <h2>üß† Memory Game</h2>
    <div id="gameBoard" class="game-board"></div>
    <p>Score: <span id="memoryScore">0</span></p>
    <select id="memoryLevel" onchange="startMemoryGame()">
      <option value="0">Level 1: Letters</option>
      <option value="1">Level 2: Numbers</option>
      <option value="2">Level 3: Colors</option>
      <option value="3">Level 4: Animals</option>
      <option value="4">Level 5: Fruits</option>
      <option value="5">Level 6: Capitals</option>
    </select>
    <br>
    <button onclick="backHome()">üè† Back Home</button>
  </div>

  <!-- Quiz Screen -->
  <div id="quizScreen" class="screen">
    <h2>‚ùì Quiz</h2>
    <div id="questionContainer">
      <p id="questionText"></p>
      <div id="answerButtons" class="answer-buttons"></div>
    </div>
    <p>Score: <span id="quizScore">0</span></p>
    <button onclick="backHome()">üè† Back Home</button>
  </div>

</div>

<script>
// ----- Badge System -----
const badgeText = document.getElementById('badgeText');
const badges = JSON.parse(localStorage.getItem('badges')) || [];
function updateBadges() { badgeText.textContent = badges.length===0?"No badges yet":badges.join(", "); }
updateBadges();

// ----- Screen Navigation -----
const homeScreen = document.getElementById('homeScreen');
const memoryScreen = document.getElementById('memoryScreen');
const quizScreen = document.getElementById('quizScreen');

function showMemoryGame() { homeScreen.classList.remove('active'); memoryScreen.classList.add('active'); startMemoryGame(); }
function showQuiz() { homeScreen.classList.remove('active'); quizScreen.classList.add('active'); startQuiz(); }
function backHome() { memoryScreen.classList.remove('active'); quizScreen.classList.remove('active'); homeScreen.classList.add('active'); updateBadges(); }

// ----- Memory Game -----
const gameBoard = document.getElementById('gameBoard');
const memoryScoreEl = document.getElementById('memoryScore');
let memoryScore=0, firstCard=null, secondCard=null;

const memoryLevels = [
  ['A','A','B','B','C','C','D','D'],                     // Letters
  ['1','1','2','2','3','3','4','4'],                     // Numbers
  ['Red','Red','Blue','Blue','Green','Green','Yellow','Yellow'], // Colors
  ['Cat','Cat','Dog','Dog','Cow','Cow','Pig','Pig'],     // Animals
  ['Apple','Apple','Banana','Banana','Mango','Mango','Orange','Orange'], // Fruits
  ['Managua','Managua','Le√≥n','Le√≥n','Granada','Granada','Masaya','Masaya'] // Capitals
];

function startMemoryGame() {
  const level = document.getElementById('memoryLevel').value;
  memoryScore=0; memoryScoreEl.textContent=memoryScore; firstCard=null; secondCard=null;
  gameBoard.innerHTML='';
  let cards = [...memoryLevels[level]];
  let shuffled = cards.sort(()=>0.5-Math.random());
  shuffled.forEach(value=>{
    const card=document.createElement('div');
    card.classList.add('card'); card.dataset.value=value; card.textContent='?';
    card.addEventListener('click',flipCard);
    gameBoard.appendChild(card);
  });
}

function flipCard() {
  if(this.textContent!=='?') return;
  this.textContent=this.dataset.value;
  if(!firstCard) firstCard=this;
  else if(!secondCard) { secondCard=this; checkMatch(); }
}

function checkMatch() {
  if(firstCard.dataset.value===secondCard.dataset.value) {
    memoryScore+=1; memoryScoreEl.textContent=memoryScore; firstCard=null; secondCard=null; checkMemoryBadge();
  } else {
    setTimeout(()=>{ firstCard.textContent='?'; secondCard.textContent='?'; firstCard=null; secondCard=null; },1000);
  }
}

function checkMemoryBadge() {
  if(memoryScore===8) { 
    alert("üéâ Memory Master Badge!"); 
    if(!badges.includes("Memory Master")) { badges.push("Memory Master"); localStorage.setItem('badges',JSON.stringify(badges)); updateBadges(); } 
  }
}

// ----- Quiz -----
const questionText=document.getElementById('questionText');
const answerButtons=document.getElementById('answerButtons');
const quizScoreEl=document.getElementById('quizScore');
let quizScore=0, currentQuestion=0;
const quizQuestions=[
  {question:"What is 2+2?", answers:["3","4","5","6"], correct:"4"},
  {question:"Capital of Nicaragua?", answers:["Managua","Le√≥n","Granada","Masaya"], correct:"Managua"},
  {question:"What is 5√ó3?", answers:["15","10","20","8"], correct:"15"},
  {question:"Color of the sky?", answers:["Blue","Green","Red","Yellow"], correct:"Blue"},
  {question:"Which is a fruit?", answers:["Carrot","Banana","Potato","Onion"], correct:"Banana"}
];

function startQuiz() { quizScore=0; quizScoreEl.textContent=quizScore; currentQuestion=0; showQuestion(); }

function showQuestion() {
  const q=quizQuestions[currentQuestion];
  questionText.textContent=q.question; answerButtons.innerHTML='';
  q.answers.forEach(ans=>{
    const btn=document.createElement('button'); btn.textContent=ans;
    btn.addEventListener('click',()=>selectAnswer(ans)); answerButtons.appendChild(btn);
  });
}

function selectAnswer(answer){
  if(answer===quizQuestions[currentQuestion].correct) quizScore+=1;
  quizScoreEl.textContent=quizScore; currentQuestion+=1;
  if(currentQuestion<quizQuestions.length) showQuestion();
  else completeQuiz();
}

function completeQuiz() {
  alert("‚úÖ Quiz Completed! Score: "+quizScore);
  if(quizScore===quizQuestions.length && !badges.includes("Quiz Genius")) { badges.push("Quiz Genius"); localStorage.setItem('badges',JSON.stringify(badges)); updateBadges(); }
}

// ---- Emotion + Quote Feature ----
const emotionResponseEl = document.getElementById('emotionResponse');

const emotionQuotes = {
  sad: [
    "It's okay to feel sad. Sadness is your soul asking for care.",
    "Feeling down sometimes helps you appreciate the bright moments ahead."
  ],
  happy: [
    "Happiness is contagious! Share your joy today.",
    "Celebrate your small wins; they are the stepping stones to bigger joys."
  ],
  stressed: [
    "Take a deep breath. Stress is just your mind signaling it needs a pause.",
    "One small step at a time can dissolve the heaviest stress."
  ],
  anxious: [
    "Your anxious instinct is a signal, not a sentence. Notice it, then release it.",
    "Anxiety often points to what you care about most. Breathe, then act gently."
  ],
  tired: [
    "Rest is your mind‚Äôs way of healing. You deserve it.",
    "Even the sun rests each night ‚Äî your body needs it too."
  ]
};

function showEmotionResponse() {
  const emotion = document.getElementById('userEmotion').value.toLowerCase();
  if(emotionQuotes[emotion]) {
    const quotes = emotionQuotes[emotion];
    const randomQuote = quotes[Math.floor(Math.random()*quotes.length)];
    emotionResponseEl.textContent = randomQuote;
  } else {
    emotionResponseEl.textContent = "Thank you for sharing. Remember, every feeling is valid.";
  }
  document.getElementById('userEmotion').value = '';
}
</script>
</body>
</html>
